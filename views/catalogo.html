<!-- views/catalogo.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cat√°logo Mardant</title>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">

  <!-- estilos globales -->
  <link rel="stylesheet" href="../css/estilos.css" />
  <!-- extras del cat√°logo -->
  <link rel="stylesheet" href="../css/catalogo.css" />

  <style>
    /* ====== AJUSTES LOCALES (s√≥lo esta vista) ====== */

    /* Evita cualquier scroll horizontal fantasma */
    html, body { overflow-x: hidden; }

    /* Contenedor central con respiraci√≥n lateral en todo el flujo */
    .page-wrap{
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 16px;
    }

    /* CTA superior en p√≠ldoras (sin ‚Äúpastilla‚Äù de fondo detr√°s) */
    .cta-catalogo{
      display:flex; justify-content:center; flex-wrap:wrap; gap:14px;
      margin: 12px auto 16px;
      padding: 0;
      background: none !important;
      box-shadow: none !important;
      border: 0 !important;
      border-radius: 0 !important;
      position: relative;
    }
    .cta-catalogo::before,
    .cta-catalogo::after{ content:none !important; }

    .btn-pill{
      display:inline-flex; align-items:center; gap:10px;
      color:#fff; font-weight:800; line-height:1;
      padding:14px 22px;
      border-radius:9999px;
      text-decoration:none;
      background:
        linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,0)),
        #00bcd4;
      box-shadow:0 10px 24px rgba(0,188,212,.25);
      transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
    }
    .btn-pill:hover{ transform:translateY(-1px); box-shadow:0 14px 28px rgba(0,188,212,.32); filter:saturate(1.05); }
    .btn-pill.alt{
      background:
        linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,0)),
        #31c48d;
      box-shadow:0 10px 24px rgba(49,196,141,.25);
    }

    /* Buscador centrado con aire vertical */
    #buscador{ margin: 6px auto 0; }

    /* Cursor de zoom sobre im√°genes del listado (para abrir lightbox) */
    #contenedor img{ cursor: zoom-in; }

    /* Lightbox (igual al de preventa/pedidos) */
    .lightbox{
      position:fixed; inset:0; background:rgba(0,0,0,.92);
      display:flex; align-items:center; justify-content:center;
      z-index:10000; padding:16px;
    }
    .lightbox[hidden]{ display:none !important; }
    .lightbox img{
      max-width:94vw; max-height:88vh; border-radius:12px;
      box-shadow:0 20px 40px rgba(0,0,0,.5);
    }
    .lb-close{
      position:absolute; top:10px; right:14px;
      background:transparent; border:none; color:#fff;
      font-size:36px; line-height:1; cursor:pointer; opacity:.9;
    }
    .lb-close:hover{ opacity:1; }

    /* ====== RESPONSIVE ====== */
    @media (max-width:680px){
      .page-wrap{ padding: 0 14px; }
    }
  </style>
</head>

<body>
  <!-- Banner superior -->
  <img src="https://i.imgur.com/K7nyK2A.png"
       alt="Cat√°logo Mardant"
       style="width:100%;max-height:200px;object-fit:cover;border-bottom:3px solid #00bcd4" />

  <div class="page-wrap"><!-- abre contenedor central -->

    <!-- CTA superior -->
    <div class="cta-catalogo">
      <a href="./inicio.html" class="btn-pill">üè† <span>Volver al inicio</span></a>
      <a href="./preventa.html" class="btn-pill alt">üì¶ <span>Ver preventas</span></a>
    </div>

    <!-- Buscador -->
    <input id="buscador" type="text" placeholder="Buscar producto‚Ä¶" autocomplete="off" />

    <!-- Filtros de Categor√≠a -->
    <div class="filtros" id="filtros">
      <div id="filtro-categorias" class="grupo-filtro">
        <button type="button" class="categoria-imagen" data-categoria="">
          <img src="https://i.imgur.com/gy6LkfG.png" alt="Todos" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="POKEMON">
          <img src="https://i.imgur.com/z7fPTus.png" alt="Pokemon" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="MY HERO ACADEMIA">
          <img src="https://i.imgur.com/PB85qrv.png" alt="My Hero Academia" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="DRAGON BALL">
          <img src="https://i.imgur.com/UUtpYIJ.png" alt="Dragon Ball" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="JUJUTSU KAISEN">
          <img src="https://i.imgur.com/WklTLco.png" alt="Jujutsu Kaisen" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="DEMON SLAYER">
          <img src="https://i.imgur.com/4teP5Jy.png" alt="Demon Slayer" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="SAILOR MOON">
          <img src="https://i.imgur.com/BbxtzzD.png" alt="Sailor Moon" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="DR. STONE">
          <img src="https://i.imgur.com/4gX4Ews.png" alt="Dr. Stone" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="KAIJU NO 8">
          <img src="https://i.imgur.com/VQdQJAa.png" alt="Kaiju no 8" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="NARUTO">
          <img src="https://i.imgur.com/UXZCDIm.png" alt="Naruto" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="ONE PIECE">
          <img src="https://i.imgur.com/phbUt2h.png" alt="One Piece" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="OVERLORD">
          <img src="https://i.imgur.com/imABoHo.png" alt="Overlord" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="THAT TIME I GOT REINCARNATED AS A SLIME">
          <img src="https://i.imgur.com/q0Ya6vQ.png" alt="That time i got reincarnated as a slime" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="TOKYO REVENGERS">
          <img src="https://i.imgur.com/uDP1bDn.png" alt="Tokyo revengers" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="GUNDAM">
          <img src="https://i.imgur.com/eV0ZYQm.png" alt="Gundam" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="SPY X FAMILY">
          <img src="https://i.imgur.com/QLyUTVz.png" alt="Spy x Family" height="60">
        </button>
        <button type="button" class="categoria-imagen" data-categoria="HATSUNE MIKU">
          <img src="https://i.imgur.com/TVdbddi.png" alt="Hatsune miku" height="60">
        </button>
      </div>
    </div>

    <!-- Sub-categor√≠as (JS las pinta aqu√≠) -->
    <div id="subfiltro-contenedor"></div>

    <!-- Orden / disponibilidad -->
    <div class="orden">
      <label for="orden">Ordenar por:</label>
      <select id="orden">
        <option value="recientes">Lo m√°s nuevo</option>
        <option value="default">Por defecto</option>
        <option value="oferta">S√≥lo ofertas</option>
        <option value="precio-asc">Precio (‚Üë)</option>
        <option value="precio-desc">Precio (‚Üì)</option>
        <option value="nombre-az">Nombre A-Z</option>
        <option value="nombre-za">Nombre Z-A</option>
      </select>

      <label for="estado" style="margin-left:20px">Disponibilidad:</label>
      <select id="estado">
        <option value="todos">Todos</option>
        <option value="disponible">S√≥lo disponibles</option>
        <option value="agotado">S√≥lo agotados</option>
      </select>
    </div>

    <!-- Productos + paginaci√≥n -->
    <div id="contenedor" class="grid"></div>
    <div id="paginacion"></div>

    <!-- Mini-carrito + contador -->
    <div class="carrito-contenedor">
      <a href="./carrito.html" class="boton-carrito-flotante" title="Ver carrito üõí">
        üõí<span id="contador-carrito" class="contador-carrito">0</span>
      </a>
      <div id="mini-carrito" class="mini-carrito"></div>
    </div>

    <!-- Notificaci√≥n flotante -->
    <div id="notificacion-carrito" class="noti-carrito">‚úÖ Producto a√±adido al carrito</div>

  </div><!-- /page-wrap -->

  <!-- Lightbox -->
  <div id="lb" class="lightbox" hidden>
    <img alt="Vista ampliada">
    <button class="lb-close" aria-label="Cerrar">√ó</button>
  </div>

  <!-- L√≥gica del cat√°logo -->
  <script type="module" src="../js/catalogo.js"></script>

  <!-- Abrir im√°genes del listado en el lightbox -->
  <script>
    (function () {
      const cont = document.getElementById('contenedor');
      const lb   = document.getElementById('lb');
      const img  = lb.querySelector('img');

      cont.addEventListener('click', (e) => {
        const el = e.target;
        if (el && el.tagName === 'IMG') {
          img.src = el.src;
          lb.hidden = false;
          document.body.style.overflow = 'hidden';
        }
      });

      const close = () => {
        lb.hidden = true;
        img.src = '';
        document.body.style.overflow = '';
      };
      lb.addEventListener('click', close);
      lb.querySelector('.lb-close').addEventListener('click', (ev) => {
        ev.stopPropagation();
        close();
      });
      document.addEventListener('keydown', (ev) => {
        if (!lb.hidden && ev.key === 'Escape') close();
      });
    })();
  </script>

  <!-- Tracking -->
  <script type="module" src="../js/tracking.js"></script>
</body>
</html>
