<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mi Cuenta - Mardant</title>
  <!-- cache-busting -->
  <link rel="stylesheet" href="../css/cuenta.css?v=8">
</head>
<body>
  <header class="topbar">
    <div class="wrap">
      <a class="brand" href="../index.html">Mardant Per√∫</a>
      <nav class="nav">
        <a href="./catalogo.html">Cat√°logo</a>
        <a href="./preventa.html">Preventas</a>
        <a href="./pedidos.html">A pedido</a>
        <a class="active" href="./cuenta.html">Mi cuenta</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="hero card">
      <div class="hero-copy">
        <h1>Mi Cuenta</h1>
        <p>Consulta tus d√≠as de almacenaje y sigue el estado de tus preventas.</p>
      </div>
    </section>

    <!-- LOGIN -->
    <section id="loginSection" class="card" style="display:none;">
      <form id="loginForm" class="form">
        <div class="row">
          <div class="field">
            <label class="label">Cliente ID</label>
            <input id="clientId" required placeholder="Ej: ALEX001" autocomplete="username" />
          </div>
          <div class="field">
            <label class="label">Contrase√±a</label>
            <div class="input-wrap">
              <input id="password" type="password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password"/>
              <button type="button" class="toggle-pass" id="togglePass" aria-label="Mostrar/ocultar contrase√±a">Mostrar</button>
            </div>
          </div>
        </div>
        <button type="submit" class="btn">Ingresar</button>
        <div class="msg" id="loginMsg"></div>
      </form>
    </section>

    <!-- PANEL -->
    <section id="statusSection" class="card" style="display:none;">
      <div class="panel-head">
        <div class="who">
          <div class="label">Cliente</div>
          <div class="who-name">
            <span id="clientName"></span>
            <span class="muted">(<span id="clientCode"></span>)</span>
          </div>
        </div>
        <button id="logoutBtn" class="btn secondary">Cerrar sesi√≥n</button>
      </div>

      <div class="kpis">
        <div class="kpi"><div class="label">D√≠as gratis</div><div class="val" id="diasGratis">‚Äì</div></div>
        <div class="kpi"><div class="label">Usados</div><div class="val" id="diasUsados">‚Äì</div></div>
        <div class="kpi"><div class="label">Restantes</div><div class="val" id="diasRestantes">‚Äì</div></div>
        <div class="kpi"><div class="label">Excedidos</div><div class="val" id="diasExcedidos">‚Äì</div></div>
      </div>

      <div class="tabs">
        <button class="tab-btn active" data-tab="almacen">Almac√©n</button>
        <button class="tab-btn" data-tab="preventas">Preventas</button>
        <button class="tab-btn" data-tab="pedido">Pedido</button>
      </div>

      <!-- TAB: ALMAC√âN -->
      <div id="tab-almacen">
        <h3>√çtems en almac√©n</h3>
        <div class="table-wrap">
          <table id="itemsTable">
            <thead>
              <tr>
                <th>Foto</th><th>ID</th><th>Descripci√≥n</th><th>Ingreso</th><th>Estado</th><th class="right">D√≠as</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="msg small" id="almacenMsg"></div>

        <div class="notice notice-warn">
          <div class="notice-title">‚ö†Ô∏è IMPORTANTE</div>

          <p>
            Usted cuenta con <strong>50 D√çAS GRATUITOS</strong> de almacenaje. Una vez superado este plazo, los productos ser√°n
            considerados en condici√≥n de <strong>ABANDONO</strong>.
          </p>

          <p class="q"><strong>¬øQU√â OCURRE SI MI PRODUCTO PASA A ABANDONO?</strong></p>
          <p>
            De forma autom√°tica, el producto ser√° <strong>DESECHADO</strong> y no proceder√° <strong>NING√öN TIPO DE RECLAMO</strong>.
          </p>

          <p class="q"><strong>¬øDESEA AGREGAR M√ÅS PRODUCTOS PARA CONSOLIDAR SU ENV√çO?</strong></p>
          <p>
            Le invitamos a visitar nuestra web, donde podr√° revisar nuestro cat√°logo y seleccionar los productos de su inter√©s.
          </p>
        </div>
      </div>

      <!-- TAB: PREVENTAS -->
      <div id="tab-preventas" style="display:none;">
        <h3>Mis preventas</h3>
        <div class="table-wrap">
          <table id="preTable">
            <thead>
              <tr>
                <th>Foto</th><th>ID</th><th>Descripci√≥n</th>
                <th class="right">Total</th><th class="right">Dep√≥sito</th>
                <th class="right">Pagado</th><th class="right">Saldo</th>
                <th>Pedido</th><th>F. aprox</th><th>Estado</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="msg small" id="preMsg"></div>

        <div class="notice notice-info">
          <div class="notice-title">üìå IMPORTANTE</div>

          <p>
            Los productos con estado <strong>EN_ALMACEN_PERU</strong> cuentan con un plazo m√°ximo de <strong>30 D√çAS</strong>
            para <strong>CANCELAR EL TOTAL</strong> del producto. De no completarse el pago dentro de este periodo, el pedido ser√°
            considerado en condici√≥n de <strong>ABANDONO</strong>.
          </p>

          <p class="q"><strong>¬øQU√â OCURRE SI MI PRODUCTO PASA A ABANDONO?</strong></p>
          <p>
            De forma autom√°tica, el producto ser√° <strong>DESECHADO</strong> y no proceder√° <strong>NING√öN TIPO DE RECLAMO</strong>.
          </p>

          <p class="q"><strong>¬øLAS CAJAS PUEDEN PRESENTAR DA√ëOS?</strong></p>
          <p>
            S√≠. Las cajas pueden presentar da√±os ocasionados por el transporte, tanto <strong>MAR√çTIMO</strong> como <strong>A√âREO</strong>.
          </p>
        </div>
      </div>

      <!-- TAB: PEDIDO (COTIZACI√ìN) -->
      <div id="tab-pedido" style="display:none;">
        <h3>Solicitud de cotizaci√≥n</h3>

        <div class="notice notice-info">
          <div class="notice-title">üõí PEDIDO / COTIZACI√ìN</div>
          <p>
            En esta secci√≥n puedes enviarnos el enlace directo del producto de tu inter√©s (Mercari, Amazon JP, etc.).
            Revisaremos si es posible realizar la compra y te mostraremos la cotizaci√≥n en tu cuenta.
          </p>
        </div>

        <form id="pedidoForm" class="form">
          <div class="row">
            <div class="field">
              <label class="label" for="pedidoUrl">Pega el URL (obligatorio)</label>
              <input id="pedidoUrl" type="url" required placeholder="https://jp.mercari.com/item/..." />
            </div>
            <div class="field">
              <label class="label" for="pedidoNombre">Nombre del producto (opcional)</label>
              <input id="pedidoNombre" type="text" maxlength="120" placeholder="Ej: Figura / Plush / etc." />
            </div>
          </div>

          <div class="row">
            <div class="field">
              <label class="label" for="pedidoPeso">Peso (opcional)</label>
              <input id="pedidoPeso" type="text" maxlength="40" placeholder="Ej: 750g o 0.75kg" />
            </div>
            <div class="field">
              <label class="label" for="pedidoTamano">Tama√±o (opcional)</label>
              <input id="pedidoTamano" type="text" maxlength="60" placeholder="Ej: 20x15x10 cm" />
            </div>
          </div>

          <div class="row">
            <div class="field">
              <label class="label" for="pedidoYenes">Precio en yenes (opcional)</label>
              <input id="pedidoYenes" type="number" min="0" step="1" placeholder="Ej: 3000" />
            </div>
            <div class="field actions">
              <button class="btn" type="submit">Enviar solicitud</button>
              <div id="pedidoFormMsg" class="msg"></div>
            </div>
          </div>
        </form>

        <div class="notice notice-warn" style="margin-top:12px">
          <div class="notice-title">‚ö†Ô∏è IMPORTANTE</div>
          <p>
            Los costos finales pueden variar por peso o volumen del producto.
            La cotizaci√≥n se calcula con la informaci√≥n disponible, pero el monto final se confirma cuando el producto
            llegue a nuestro almac√©n en Jap√≥n.
          </p>
        </div>

        <h3 style="margin-top:14px">Mis cotizaciones</h3>
        <div id="pedidosMsg" class="muted">Cargando...</div>

        <div class="table-wrap">
          <table class="table">
            <thead>
              <tr>
                <th>Fecha</th>
                <th>Producto / URL</th>
                <th>Estado</th>
                <th class="right">A√©reo</th>
                <th class="right">Mar√≠timo</th>
                <th class="right">Acci√≥n</th>
              </tr>
            </thead>
            <tbody id="pedidosTbody"></tbody>
          </table>
        </div>
      </div>

    </section>
  </main>

  <footer class="site-footer">
    ¬© 2026 Mardant Per√∫
  </footer>

  <!-- ===== Lightbox de im√°genes (Mi cuenta) ===== -->
  <div id="lbCuenta" class="lb" hidden>
    <button class="lb-close" aria-label="Cerrar">√ó</button>
    <div class="lb__content">
      <img id="lbImagen" alt="Foto ampliada" />
    </div>
  </div>

  <script type="module" src="../js/cuenta.js"></script>
</body>
</html>
