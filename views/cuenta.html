<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mi Cuenta - Mardant</title>
  <link rel="stylesheet" href="../css/cuenta.css">
</head>
<body>
  <header class="topbar">
    <div class="wrap">
      <a class="brand" href="../index.html">Mardant Perú</a>
      <nav class="nav">
        <a href="./catalogo.html">Catálogo</a>
        <a href="./preventa.html">Preventas</a>
        <a href="./pedidos.html">A pedido</a>
        <a class="active" href="./cuenta.html">Mi cuenta</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="hero card">
      <div class="hero-copy">
        <h1>Mi Cuenta</h1>
        <p>Consulta tus días de almacenaje y sigue el estado de tus preventas.</p>
      </div>
    </section>

    <!-- LOGIN -->
    <section id="loginSection" class="card" style="display:none;">
      <form id="loginForm" class="form">
        <div class="row">
          <div class="field">
            <label class="label">Cliente ID</label>
            <input id="clientId" required placeholder="Ej: ALEX001" autocomplete="username" />
          </div>
          <div class="field">
            <label class="label">Contraseña</label>
            <div class="input-wrap">
              <input id="password" type="password" required placeholder="••••••••" autocomplete="current-password"/>
              <button type="button" class="toggle-pass" id="togglePass" aria-label="Mostrar/ocultar contraseña">Mostrar</button>
            </div>
          </div>
        </div>
        <button type="submit" class="btn">Ingresar</button>
        <div class="msg" id="loginMsg"></div>
      </form>
    </section>

    <!-- PANEL -->
    <section id="statusSection" class="card" style="display:none;">
      <div class="panel-head">
        <div class="who">
          <div class="label">Cliente</div>
          <div class="who-name">
            <span id="clientName"></span>
            <span class="muted">(<span id="clientCode"></span>)</span>
          </div>
        </div>
        <button id="logoutBtn" class="btn secondary">Cerrar sesión</button>
      </div>

      <div class="kpis">
        <div class="kpi"><div class="label">Días gratis</div><div class="val" id="diasGratis">–</div></div>
        <div class="kpi"><div class="label">Usados</div><div class="val" id="diasUsados">–</div></div>
        <div class="kpi"><div class="label">Restantes</div><div class="val" id="diasRestantes">–</div></div>
        <div class="kpi"><div class="label">Excedidos</div><div class="val" id="diasExcedidos">–</div></div>
      </div>

      <div class="tabs">
        <button class="tab-btn active" data-tab="almacen">Almacén</button>
        <button class="tab-btn" data-tab="preventas">Preventas</button>
      </div>

      <!-- TAB: ALMACÉN -->
      <div id="tab-almacen">
        <h3>Ítems en almacén</h3>
        <div class="table-wrap">
          <table id="itemsTable">
            <thead>
              <tr>
                <th>Foto</th><th>ID</th><th>Descripción</th><th>Ingreso</th><th>Estado</th><th class="right">Días</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="msg small" id="almacenMsg"></div>
      </div>

      <!-- TAB: PREVENTAS -->
      <div id="tab-preventas" style="display:none;">
        <h3>Mis preventas</h3>
        <div class="table-wrap">
          <table id="preTable">
            <thead>
              <tr>
                <th>Foto</th><th>ID</th><th>Descripción</th>
                <th class="right">Total</th><th class="right">Depósito</th>
                <th class="right">Pagado</th><th class="right">Saldo</th>
                <th>Pedido</th><th>F. aprox</th><th>Estado</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="msg small" id="preMsg"></div>
      </div>
    </section>

    <!-- ===== Lightbox de imágenes (Mi cuenta) ===== -->
    <div id="lbCuenta" class="lightbox" hidden>
      <button class="lb-close" aria-label="Cerrar">×</button>
      <img id="lbImagen" alt="Foto" />
    </div>
  </main>

  <footer class="site-footer">
    © 2025 Mardant Perú
  </footer>

  <script type="module" src="../js/cuenta.js"></script>
</body>
</html>
